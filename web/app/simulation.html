<div class="container-fluid" xmlns="http://www.w3.org/1999/html">
    <h1>
        Simulation {{simulation.name}}
        <button type="button" class="btn btn-danger" ng-click="delete()">
            <span class="glyphicon glyphicon-trash"></span> Remove
        </button>
    </h1>

    <div class="container">
        <div class="panel panel-info">
            <div class="panel-heading">
                Simulation Properties
            </div>
            <ul class="list-group">
                <li class="list-group-item">
                    <div class="row">
                        <div class="col-md-2">
                            <span class="glyphicon glyphicon-flag"></span> Entry URL
                        </div>
                        <div class="col-md-10">
                            <a ng-href="{{simulation.entryUrl}}" target="_blank">{{simulation.entryUrl}}</a>
                        </div>
                    </div>
                </li>
                <li class="list-group-item">
                    <div class="row">
                        <div class="col-md-2">
                            <span class="glyphicon glyphicon-th-list"></span> Discovered Pages
                        </div>
                        <div class="col-md-10">
                            {{pages.length}}
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>

    <div class="row">
        <div class="col-md-4 col-md-offset-4">
            <div class="input-group">
                <span class="input-group-addon">
                    <span class="glyphicon glyphicon-search"></span>
                </span>
                <input type="search" ng-model="url_search" placeholder="Filter URL" class="form-control"/>
            </div>
        </div>
    </div>
    <div class="row">
        <table class="table">
            <thead>
            <tr>
                <th>URL</th>
                <th>Page Title</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="page in (pages | filter:{url: url_search} )"
                ng-class="{info: page.type == 'REDIRECTION', warning: page.type == 'UNREACHABLE'}">
                <td>
                    <span class="glyphicon" ng-class="{'glyphicon-globe': page.type == 'HTML',
                                                       'glyphicon-file': page.type == 'TEXT',
                                                       'glyphicon-picture': page.type == 'BINARY',
                                                       'glyphicon-share': page.type == 'REDIRECTION',
                                                       'glyphicon-warning-sign': page.type == 'UNREACHABLE'}">
                    </span>
                    <a ng-href="{{generatePageLink(page)}}">{{page.url}}</a>
                </td>
                <td>
                    {{getPageTitle(page)}}
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>